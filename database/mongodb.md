# mongodb



## 分片

分片（sharding）是MongoDB将大型集合分割到不同服务器（集群）上。

和MySQL的分区方案相比，MongoDB几乎能自动完成数据的均衡分片。

MongoDB自带了一个叫做mongos的专有路由进程。mongos就是掌握统一路由的路由器，会将客户端发来的请求准确无误的路由到集群中的一个或者一组服务器上，同时把接收到的响应拼装起来发回到客户端。

分片集群架构节点：

| 组件          | 说明                                                         |
| ------------- | ------------------------------------------------------------ |
| config server | 存储集群所有节点、分片数据路由信息。默认需要配置3个config server节点 |
| mongos        | 提供对外应用访问，所有操作均通过mongos执行。一般由多个mongos节点。 |
| mongod        | 存储应用数据记录。一般由多个mongod节点，达到数据分片目的。   |

